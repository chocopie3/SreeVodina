<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secret Gift üóùÔ∏è</title>
  <link rel="stylesheet" href="assets/style.css">
  <style>
    body {
      min-height: 100vh;
      margin: 0;
      font-family: 'Segoe UI', 'Arial', sans-serif;
      background: #111;
      overflow: hidden;
      position: relative;
    }
    .secret-bg {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; z-index: 0;
      background: radial-gradient(ellipse at 60% 40%, #23234a 0%, #18182c 60%, #111 100%);
      animation: secretShift 12s infinite alternate;
    }
    @keyframes secretShift {
      0% { background: radial-gradient(ellipse at 60% 40%, #23234a 0%, #18182c 60%, #111 100%);}
      100% { background: radial-gradient(ellipse at 40% 60%, #2a1a3d 0%, #23234a 60%, #111 100%);}
    }
    .secret-container {
      display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh;
      position: relative; z-index: 2;
    }
    .lock-area {
      position: relative; width: 120px; height: 160px; margin-bottom: 32px;
      display: flex; align-items: center; justify-content: center;
    }
    .lock-icon {
      position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
      width: 80px; height: 120px;
      filter: drop-shadow(0 0 18px #b57edc88);
      cursor: pointer;
      transition: filter 0.5s;
      animation: pulseLock 2.5s infinite;
    }
    @keyframes pulseLock {
      0% { filter: drop-shadow(0 0 18px #b57edc88);}
      50% { filter: drop-shadow(0 0 32px #b57edc);}
      100% { filter: drop-shadow(0 0 18px #b57edc88);}
    }
    .lock-icon.unlocked {
      animation: none;
      filter: drop-shadow(0 0 32px #fff);
    }
    .particles {
      position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;
    }
    .secret-message {
      font-size: 1.18em; color: #e7d6ff; text-align: center; max-width: 420px;
      margin: 0 auto; opacity: 0; transition: opacity 1.5s;
      font-weight: 500; text-shadow: 0 2px 12px #23234a;
      margin-bottom: 18px;
    }
    .secret-message.active {
      opacity: 1;
      animation: fadeInMsg 2.5s;
    }
    @keyframes fadeInMsg {
      0% { opacity: 0;}
      100% { opacity: 1;}
    }
    .secret-note {
      font-size: 1.08em; color: #b57edc; text-align: center; margin-top: 18px; opacity: 0; transition: opacity 1.5s;
      font-weight: 500; text-shadow: 0 2px 12px #23234a;
    }
    .secret-note.active {
      opacity: 1;
      animation: fadeInMsg 2.5s;
    }
    .infinity {
      margin: 32px auto 0 auto; text-align: center; opacity: 0; transition: opacity 2s;
      animation: infinityPulse 3s infinite;
      font-size: 2.5em; color: #b57edc; text-shadow: 0 0 18px #fff6;
    }
    .infinity.active {
      opacity: 1;
    }
    @keyframes infinityPulse {
      0% { filter: brightness(1.2);}
      50% { filter: brightness(1.5);}
      100% { filter: brightness(1.2);}
    }
    .restart-btn {
      position: absolute; bottom: 32px; left: 50%; transform: translateX(-50%);
      opacity: 0.08; transition: opacity 0.5s;
      font-size: 1em; color: #fff; background: #23234a; border: none; border-radius: 18px;
      padding: 8px 24px; cursor: pointer; z-index: 10;
      box-shadow: 0 2px 8px #b57edc44;
    }
    .restart-btn:hover { opacity: 0.5; }
  </style>
</head>
<body>
  <div class="secret-bg"></div>
  <div class="secret-container">
    <div class="lock-area">
      <svg class="lock-icon" id="lockIcon" viewBox="0 0 80 120">
        <rect x="20" y="60" width="40" height="50" rx="12" fill="#23234a" stroke="#b57edc" stroke-width="4"/>
        <ellipse cx="40" cy="60" rx="20" ry="22" fill="#18182c" stroke="#b57edc" stroke-width="4"/>
        <rect x="34" y="85" width="12" height="18" rx="6" fill="#b57edc"/>
        <circle cx="40" cy="94" r="4" fill="#fff"/>
      </svg>
      <canvas class="particles" id="particles"></canvas>
    </div>
    <div class="secret-message" id="secretMsg"></div>
    <div class="secret-note" id="secretNote"></div>
    <div class="infinity" id="infinity">&#8734;</div>
    <button class="restart-btn" id="restartBtn" title="Restart Giftbox">Restart Giftbox</button>
  </div>
  <audio id="secretAudio" src="https://cdn.pixabay.com/audio/2022/10/16/audio_12b7b8b7b7.mp3" loop autoplay></audio>
  <audio id="chimeAudio" src="https://cdn.pixabay.com/audio/2022/03/15/audio_3c2e3d7a7e.mp3"></audio>
  <script>
    // Particle fireflies
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() {
      canvas.width = 120;
      canvas.height = 160;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    let particles = [];
    function spawnParticle() {
      particles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        r: Math.random()*2+1,
        vx: (Math.random()-0.5)*0.3,
        vy: (Math.random()-0.5)*0.3,
        alpha: 0.7+Math.random()*0.3,
        color: `hsl(${Math.random()*280+180},60%,70%)`
      });
    }
    function drawParticles() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for (let p of particles) {
        ctx.globalAlpha = p.alpha;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, 2*Math.PI);
        ctx.fillStyle = p.color;
        ctx.fill();
        p.x += p.vx;
        p.y += p.vy;
        if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
        if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
      }
      if (particles.length < 18 && Math.random() < 0.2) spawnParticle();
      requestAnimationFrame(drawParticles);
    }
    drawParticles();

    // Lock unlock logic
    const lockIcon = document.getElementById('lockIcon');
    const secretMsg = document.getElementById('secretMsg');
    const secretNote = document.getElementById('secretNote');
    const infinity = document.getElementById('infinity');
    const restartBtn = document.getElementById('restartBtn');
    let unlocked = false;

    lockIcon.addEventListener('mousemove', e => {
      // Subtle glow on mouse movement
      lockIcon.style.filter = "drop-shadow(0 0 32px #fff)";
    });
    lockIcon.addEventListener('mouseleave', e => {
      lockIcon.style.filter = "";
    });

    lockIcon.addEventListener('click', () => {
      if (unlocked) return;
      unlocked = true;
      lockIcon.classList.add('unlocked');
      document.getElementById('chimeAudio').play().catch(()=>{});
      setTimeout(() => {
        secretMsg.textContent = "Not everything you get for your birthday can be wrapped.\nSome things are just‚Ä¶ made for you to find.";
        secretMsg.classList.add('active');
      }, 900);
      setTimeout(() => {
        secretNote.textContent = "This is your reminder that you don‚Äôt need to have everything figured out.\nYou‚Äôre already doing fine ‚Äî even if you don‚Äôt see it yet.";
        secretNote.classList.add('active');
      }, 3200);
      setTimeout(() => {
        infinity.classList.add('active');
      }, 5200);
      setTimeout(() => {
        document.title = "All gifts unlocked üéÅ";
      }, 6000);
    });

    // Piano note heartbeat
    setInterval(() => {
      document.getElementById('secretAudio').volume = 0.5;
      document.getElementById('secretAudio').play().catch(()=>{});
    }, 4000);

    // Hidden restart button
    restartBtn.onclick = () => {
      window.location.href = "index.html";
    };
  </script>
</body>
</html>
